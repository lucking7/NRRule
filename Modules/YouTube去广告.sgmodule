#!name=YouTubeå»å¹¿å‘Š
#!desc=ç§»é™¤YouTubeè§†é¢‘ã€ç€‘å¸ƒæµã€æœç´¢å’ŒShortsä¸­çš„å¹¿å‘Šï¼Œç§»é™¤åº•æ çš„ShortsæŒ‰é’®å’Œä¸Šä¼ æŒ‰é’®ï¼Œå¢åŠ ç”»ä¸­ç”»åŠå­—å¹•ç¿»è¯‘åŠŸèƒ½ã€‚ç§»é™¤YouTube Musicåº•æ çš„ä¸Šä¼ ã€é€‰æ®µå’Œå‡çº§æŒ‰é’®ï¼Œå¢åŠ æ­Œè¯ç¿»è¯‘ï¼Œæ”¯æŒäºŒè€…çš„åå°æ’­æ”¾ã€‚æ­¤æ’ä»¶éœ€è¦å¯ç”¨MitM over HTTP/2å’ŒQUICå›é€€ä¿æŠ¤ã€‚æ”¯æŒPremiumè®¢é˜…ç”¨æˆ·ä½¿ç”¨ï¼Œä¸æ”¯æŒtvOSè®¾å¤‡ã€‚
#!author=Maasea[https://github.com/Maasea], VirgilClyne[https://github.com/VirgilClyne], Choler[https://github.com/Choler], DivineEngine[https://github.com/DivineEngine], app2smile[https://github.com/app2smile]
#!icon=https://raw.githubusercontent.com/luestr/IconResource/main/App_icon/120px/YouTube.png
#!category=ğŸš« AD Block
#!openUrl=https://apps.apple.com/app/id544007664
#!tag=å»å¹¿å‘Š
#!system_version=15
#!loon_version=3.2.4(787)
#!homepage=https://hub.kelee.one
#!date=2025-08-24 22:03:19
#!arguments=blockUpload:false,blockShorts:false,blockImmersive:false,captionLang:"zh-Hans",lyricLang:"zh-Hans",debug:false

[Rule]
AND,((DOMAIN-SUFFIX,googlevideo.com),(PROTOCOL,QUIC)),REJECT
AND,((DOMAIN-SUFFIX,youtubei.googleapis.com),(PROTOCOL,QUIC)),REJECT

[Map Local]
^https?:\/\/[\w-]+\.googlevideo\.com\/initplayback.+&oad data-type=text data=" " status-code=200

[Script]
YouTubeå»å¹¿å‘Š = type=http-response, pattern=^https:\/\/youtubei\.googleapis\.com\/(youtubei\/v1\/(browse|next|player|search|reel\/reel_watch_sequence|guide|account\/get_setting|get_watch))(\?(.*))?$, script-path=https://github.com/bunizao/Surge-master-3/raw/main/public/Scripts/YouTube_remove_ads_response.js, requires-body=true, binary-body-mode=true, argument="[{{{blockUpload}}},{{{blockShorts}}},{{{blockImmersive}}},{{{captionLang}}},{{{lyricLang}}},{{{debug}}}]"

[MITM]
hostname = %APPEND% *.googlevideo.com, youtubei.googleapis.com

